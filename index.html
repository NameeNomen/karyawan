<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Konsep Formulir Neural Constellation</title>
    <style>
        /* --- CSS STYLES --- */

        :root {
            --bg-space: #050b14;
            --glow-blue: #00aaff;
            --glow-gold: #ffcc00; /* Warna emas yang lebih cerah */
            --node-bg: rgba(0, 20, 40, 0.9);
            --input-bg-empty: rgba(255, 255, 255, 0.1);
            --input-bg-filled: rgba(255, 204, 0, 0.2);
        }

        body, html {
            margin: 0;
            padding: 0;
            height: 100%;
            font-family: 'Segoe UI', Roboto, Helvetica, sans-serif;
            background-color: var(--bg-space);
            color: #fff;
            overflow: auto;
            display: flex;
            justify-content: center;
            align-items: center;
             /* Latar belakang bintang sederhana */
            background-image: 
                radial-gradient(white, rgba(255,255,255,.2) 2px, transparent 5px),
                radial-gradient(white, rgba(255,255,255,.15) 1px, transparent 3px),
                radial-gradient(white, rgba(255,255,255,.1) 2px, transparent 4px);
            background-size: 550px 550px, 350px 350px, 250px 250px;
            background-position: 0 0, 40px 60px, 130px 270px;
        }

        /* Wadah Utama (The Universe) - Ukuran tetap untuk demo */
        .neural-universe {
            position: relative;
            width: 1200px;
            height: 800px;
            border: 1px solid rgba(255,255,255,0.05);
            box-shadow: inset 0 0 100px rgba(0,0,0,0.8);
            border-radius: 20px;
            overflow: hidden;
        }

        /* Hints di pojok */
        .hints {
            position: absolute;
            bottom: 20px;
            right: 30px;
            color: rgba(255,255,255,0.5);
            font-size: 0.9rem;
            z-index: 100;
        }

        /* --- Lapisan SVG untuk Garis Koneksi --- */
        .neural-connections {
            position: absolute;
            top: 0; left: 0;
            width: 100%; height: 100%;
            z-index: 0; /* Paling belakang */
            pointer-events: none;
        }

        .connection-line {
            fill: none;
            stroke: var(--glow-blue);
            stroke-width: 2px;
            stroke-opacity: 0.2;
            transition: all 1.5s cubic-bezier(0.4, 0, 0.2, 1); /* Transisi halus */
        }

        /* Saat energi mengalir (Garis Aktif) */
        .connection-line.is-active {
            stroke: var(--glow-gold);
            stroke-width: 4px;
            stroke-opacity: 1;
            filter: drop-shadow(0 0 10px var(--glow-gold));
            stroke-dasharray: 15;
            animation: flowAnimation 0.8s linear infinite;
        }
        @keyframes flowAnimation { to { stroke-dashoffset: -30; } }


        /* --- INTI PUSAT (Core Processor) --- */
        .core-container {
            position: absolute;
            top: 50%; left: 50%;
            transform: translate(-50%, -50%);
            z-index: 10;
        }

        .core-processor {
            width: 160px; height: 160px;
            border-radius: 50%;
            background: radial-gradient(circleAtCenter, #1a1a1a 0%, #000 100%);
            border: 4px solid var(--glow-blue);
            color: var(--glow-blue);
            display: flex; flex-direction: column;
            justify-content: center; align-items: center;
            text-align: center;
            cursor: not-allowed;
            position: relative; z-index: 2;
            transition: all 0.8s ease;
            box-shadow: 0 0 30px rgba(0, 170, 255, 0.2);
            outline: none;
        }
        .core-text { font-weight: bold; letter-spacing: 1px; transition: opacity 0.3s; }
        .core-text small { display: block; font-size: 0.7em; font-weight: normal; opacity: 0.7; margin-top: 5px; }

        /* Animasi denyutan saat menunggu */
        .core-processor:disabled { animation: pulseBlue 4s infinite ease-in-out; }
        @keyframes pulseBlue { 0%, 100% { box-shadow: 0 0 30px rgba(0, 170, 255, 0.2); } 50% { box-shadow: 0 0 60px rgba(0, 170, 255, 0.5); } }

        /* SAAT INTI SIAP (Semua energi terkumpul) */
        .core-processor.is-ready {
            border-color: var(--glow-gold);
            color: #000; /* Teks hitam agar kontras */
            background: var(--glow-gold); /* Tombol jadi emas penuh */
            box-shadow: 0 0 80px var(--glow-gold), inset 0 0 20px #fff;
            cursor: pointer;
            animation: pulseGoldReady 1s infinite alternate;
        }
        @keyframes pulseGoldReady { from { transform: scale(1); } to { transform: scale(1.05); box-shadow: 0 0 100px var(--glow-gold); } }

        /* Cincin dekoratif di sekitar core */
        .core-ring {
            position: absolute; top: 50%; left: 50%;
            transform: translate(-50%, -50%);
            border-radius: 50%;
            border: 1px solid var(--glow-blue);
            opacity: 0.2; z-index: 1; transition: all 0.8s;
        }
        .ring-1 { width: 200px; height: 200px; animation: spin 20s linear infinite; border-style: dashed; }
        .ring-2 { width: 240px; height: 240px; animation: spinReverse 30s linear infinite; }
        .core-processor.is-ready ~ .core-ring { border-color: var(--glow-gold); opacity: 0.6; animation-duration: 5s; }
        @keyframes spin { to { transform: translate(-50%, -50%) rotate(360deg); } }
        @keyframes spinReverse { to { transform: translate(-50%, -50%) rotate(-360deg); } }


        /* --- KLUSTER TOPIK (The Nodes) --- */
        .cluster-container {
            position: absolute;
            z-index: 5;
            display: flex;
            justify-content: center;
            align-items: center;
            transition: all 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275); /* Efek membal saat zoom */
        }

        /* Node Utama (Tombol Pembuka) */
        .topic-node {
            width: 120px; height: 120px;
            /* Bentuk Hexagon menggunakan clip-path */
            clip-path: polygon(50% 0%, 93% 25%, 93% 75%, 50% 100%, 7% 75%, 7% 25%);
            background: var(--node-bg);
            border: 2px solid var(--glow-blue); /* Fallback */
            /* Trik border gradient untuk hexagon agak rumit, kita pakai box-shadow sebagai gantinya */
            box-shadow: inset 0 0 20px var(--glow-blue);
            
            color: var(--glow-blue);
            display: flex; justify-content: center; align-items: center;
            font-weight: bold; text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative; z-index: 2;
        }

        .topic-node:hover {
            background: rgba(0, 170, 255, 0.2);
            box-shadow: inset 0 0 40px var(--glow-blue), 0 0 20px var(--glow-blue);
            transform: scale(1.1);
        }
        
        /* Saat kluster sudah selesai diisi */
        .cluster-container.is-completed .topic-node {
            box-shadow: inset 0 0 40px var(--glow-gold);
            color: var(--glow-gold);
             /* Tambahkan centang kecil */
            &::after {content: 'âœ“'; position: absolute; bottom: 15px; font-size: 1.5em;}
        }


        /* --- INPUT YANG MEKAR (Blooming Inputs) --- */
        .blooming-inputs {
            position: absolute;
            top: 50%; left: 50%;
            width: 0; height: 0; /* Mulai dari nol */
            pointer-events: none; /* Tidak bisa diklik saat tertutup */
            opacity: 0;
            transition: all 0.5s ease-in-out;
            z-index: 1;
        }

        /* KEADAAN MEKAR (Saat .is-bloomed ditambahkan via JS) */
        .cluster-container.is-bloomed {
            z-index: 20; /* Bawa ke depan */
             /* Sedikit zoom-in efek */
             transform: scale(1.1);
        }

        .cluster-container.is-bloomed .blooming-inputs {
            width: 400px; height: 400px; /* Area mekar */
            opacity: 1;
            pointer-events: all;
            transform: translate(-50%, -50%); /* Pusatkan kembali */
        }
        
        /* Posisi Input Relatif terhadap Pusat Kluster */
        .input-wrapper {
            position: absolute;
            transition: all 0.6s cubic-bezier(0.34, 1.56, 0.64, 1); /* Efek keluar yang dramatis */
            transform: scale(0); /* Mulai dari kecil */
            opacity: 0;
        }

        /* Posisi akhir saat mekar */
        .cluster-container.is-bloomed .input-wrapper.pos-top { top: -80px; left: 50%; transform: translate(-50%, 0) scale(1); opacity: 1; transition-delay: 0.1s;}
        .cluster-container.is-bloomed .input-wrapper.pos-bottom { bottom: -80px; left: 50%; transform: translate(-50%, 0) scale(1); opacity: 1; transition-delay: 0.1s;}
        .cluster-container.is-bloomed .input-wrapper.pos-left { left: -140px; top: 50%; transform: translate(0, -50%) scale(1); opacity: 1; transition-delay: 0.2s;}
        .cluster-container.is-bloomed .input-wrapper.pos-right { right: -140px; top: 50%; transform: translate(0, -50%) scale(1); opacity: 1; transition-delay: 0.2s;}

        /* Styling Input Field */
        .neural-input {
            background: var(--input-bg-empty);
            border: 1px solid rgba(255,255,255,0.3);
            padding: 12px 20px;
            border-radius: 30px;
            color: #fff;
            font-family: inherit;
            outline: none;
            min-width: 180px;
            text-align: center;
            transition: all 0.3s ease;
            backdrop-filter: blur(5px);
        }
        
        .neural-input::placeholder { color: rgba(255,255,255,0.5); }
        .neural-input:focus {
            border-color: var(--glow-blue);
            box-shadow: 0 0 15px var(--glow-blue);
            background: rgba(0, 170, 255, 0.1);
        }

        /* Saat Input Terisi */
        .neural-input.is-filled {
            border-color: var(--glow-gold);
            background: var(--input-bg-filled);
            color: var(--glow-gold);
            box-shadow: 0 0 15px rgba(255, 204, 0, 0.3);
        }
        
        /* Select styling khusus */
        select.neural-input { appearance: none; cursor: pointer; }
        select.neural-input option { background-color: #0a1525; color: #fff; }

        /* Layar Sukses (Hidden by default) */
        #success-overlay {
            position: absolute; top:0; left:0; width:100%; height:100%;
            background: rgba(0,0,0,0.9); z-index: 1000;
            display: flex; justify-content: center; align-items: center;
            flex-direction: column;
            opacity: 0; pointer-events: none; transition: opacity 1s;
        }
        #success-overlay.show { opacity: 1; pointer-events: all; }
        .success-message { font-size: 2em; color: var(--glow-gold); text-shadow: 0 0 20px var(--glow-gold); margin-bottom: 20px;}

    </style>
</head>
<body>

<div class="neural-universe" id="universe">
    <svg class="neural-connections" xmlns="http://www.w3.org/2000/svg">
        <path id="line-identity" class="connection-line" d="M 310 260 C 400 350, 500 400, 600 400" />
        <path id="line-contact" class="connection-line" d="M 890 260 C 800 350, 700 400, 600 400" />
        <path id="line-pref" class="connection-line" d="M 600 640 C 600 550, 600 500, 600 400" />
    </svg>

    <div class="core-container">
        <button id="main-core" class="core-processor" disabled>
            <span class="core-text status-waiting">INTI KIRIM<br><small>(Menunggu Energi...)</small></span>
            <span class="core-text status-ready" style="display: none; font-size: 1.2em;">KIRIM<br>DATA</span>
        </button>
        <div class="core-ring ring-1"></div>
        <div class="core-ring ring-2"></div>
    </div>

    <div class="cluster-container" id="cluster-identity" data-target-line="line-identity" style="top: 200px; left: 250px;">
        <div class="topic-node">
            <span>IDENTITAS DIRI</span>
        </div>
        <div class="blooming-inputs">
            <div class="input-wrapper pos-top">
                <input type="text" class="neural-input required-field" placeholder="Nama Depan">
            </div>
             <div class="input-wrapper pos-bottom">
                 <input type="text" class="neural-input required-field" placeholder="Nama Belakang">
            </div>
        </div>
    </div>

    <div class="cluster-container" id="cluster-contact" data-target-line="line-contact" style="top: 200px; left: 950px;">
        <div class="topic-node">
            <span>KONTAK</span>
        </div>
        <div class="blooming-inputs">
            <div class="input-wrapper pos-left" style="left: -160px;">
                <input type="email" class="neural-input required-field" placeholder="Alamat Email">
            </div>
             <div class="input-wrapper pos-right" style="right: -160px;">
                <input type="tel" class="neural-input" placeholder="No. HP (Opsi)">
            </div>
        </div>
    </div>

    <div class="cluster-container" id="cluster-pref" data-target-line="line-pref" style="top: 700px; left: 600px;">
        <div class="topic-node">
            <span>PREFERENSI</span>
        </div>
        <div class="blooming-inputs">
             <div class="input-wrapper pos-top">
                <select class="neural-input required-field">
                    <option value="" disabled selected>Pilih Peran Anda</option>
                    <option value="dev">Developer</option>
                    <option value="design">Designer</option>
                    <option value="pm">Product Manager</option>
                </select>
            </div>
        </div>
    </div>

    <div class="hints">Klik Node Topik (Hexagon) untuk membuka input. Isi yang wajib untuk mengalirkan energi.</div>
    
    <div id="success-overlay">
        <div class="success-message">DATA TERKIRIM KE JARINGAN!</div>
        <div style="color: var(--glow-blue);">Memuat ulang simulasi...</div>
    </div>

</div>


<script>
    /* --- JAVASCRIPT LOGIC --- */

    document.addEventListener('DOMContentLoaded', () => {
        const clusters = document.querySelectorAll('.cluster-container');
        const mainCoreBtn = document.getElementById('main-core');
        const statusWaiting = document.querySelector('.status-waiting');
        const statusReady = document.querySelector('.status-ready');
        const universe = document.getElementById('universe');
        const successOverlay = document.getElementById('success-overlay');

        let activeClustersCount = 0;
        const totalClusters = clusters.length;

        // Fungsi 1: Menangani Klik pada Node Topik (Membuka/Menutup Mekar)
        clusters.forEach(cluster => {
            const topicNode = cluster.querySelector('.topic-node');
            
            topicNode.addEventListener('click', (e) => {
                // Tutup kluster lain yang sedang terbuka
                clusters.forEach(c => {
                    if (c !== cluster) c.classList.remove('is-bloomed');
                });
                // Toggle kluster ini
                cluster.classList.toggle('is-bloomed');
            });

            // Tutup kluster jika klik di luar area inputnya (opsional, untuk UX yang lebih rapi)
            document.addEventListener('click', (e) => {
                if (!cluster.contains(e.target) && cluster.classList.contains('is-bloomed')) {
                    cluster.classList.remove('is-bloomed');
                }
            });
        });


        // Fungsi 2: Menangani Input User
        const allInputs = document.querySelectorAll('.neural-input');
        allInputs.forEach(input => {
            // Gunakan event 'input' untuk text, 'change' untuk select
            const eventType = input.tagName === 'SELECT' ? 'change' : 'input';

            input.addEventListener(eventType, () => {
                // 2a. Visualisasi Input Terisi
                if (input.value.trim() !== '') {
                    input.classList.add('is-filled');
                } else {
                    input.classList.remove('is-filled');
                }

                // 2b. Cek status kluster induknya
                checkClusterCompletion(input.closest('.cluster-container'));
            });
        });


        // Fungsi 3: Cek apakah satu kluster sudah lengkap
        function checkClusterCompletion(cluster) {
            // Ambil semua input WAJIB di dalam kluster ini
            const requiredInputs = cluster.querySelectorAll('.required-field');
            let allFilled = true;

            // Cek apakah ada yang masih kosong
            requiredInputs.forEach(reqInput => {
                if (reqInput.value.trim() === '') {
                    allFilled = false;
                }
            });

            // Ambil ID garis yang terhubung dengan kluster ini
            const targetLineId = cluster.getAttribute('data-target-line');
            const targetLineSvg = document.getElementById(targetLineId);

            // Jika SEMUA terisi:
            if (allFilled && requiredInputs.length > 0) {
                if (!cluster.classList.contains('is-completed')) {
                    cluster.classList.add('is-completed');
                    // Nyalakan garis koneksi
                    targetLineSvg.classList.add('is-active');
                    // Tutup mekarnya agar rapi
                    cluster.classList.remove('is-bloomed');
                }
            } 
            // Jika ada yang dihapus lagi (menjadi tidak lengkap):
            else {
                 if (cluster.classList.contains('is-completed')) {
                    cluster.classList.remove('is-completed');
                    // Matikan garis koneksi
                    targetLineSvg.classList.remove('is-active');
                 }
            }

            // 2c. Cek Status Global (Apakah semua kluster sudah selesai?)
            checkGlobalState();
        }


        // Fungsi 4: Cek Status Global untuk Mengaktifkan Inti
        function checkGlobalState() {
            const completedClusters = document.querySelectorAll('.cluster-container.is-completed');
            
            // Jika jumlah kluster yang selesai SAMA DENGAN total kluster yang ada
            if (completedClusters.length === totalClusters && totalClusters > 0) {
                activateMainCore();
            } else {
                deactivateMainCore();
            }
        }

        function activateMainCore() {
            if (mainCoreBtn.disabled) {
                mainCoreBtn.disabled = false;
                mainCoreBtn.classList.add('is-ready');
                statusWaiting.style.display = 'none';
                statusReady.style.display = 'block';
                // Opsional: Suara efek charging bisa ditambahkan di sini
            }
        }

        function deactivateMainCore() {
             if (!mainCoreBtn.disabled) {
                mainCoreBtn.disabled = true;
                mainCoreBtn.classList.remove('is-ready');
                statusWaiting.style.display = 'block';
                statusReady.style.display = 'none';
             }
        }


        // Fungsi 5: Aksi Pengiriman Akhir
        mainCoreBtn.addEventListener('click', () => {
            if (!mainCoreBtn.disabled) {
                // Animasi Penutup yang Dramatis
                universe.style.transform = 'scale(0.1) rotate(180deg)';
                universe.style.opacity = '0';
                universe.style.transition = 'all 1.5s cubic-bezier(0.7, 0, 0.3, 1)';

                // Tampilkan pesan sukses
                setTimeout(() => {
                    successOverlay.classList.add('show');
                }, 1200);

                // Reset simulasi (hanya untuk demo)
                setTimeout(() => {
                    window.location.reload();
                }, 4000);
            }
        });

    }); // End DOMContentLoaded

</script>

</body>
</html>